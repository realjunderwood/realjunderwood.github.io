<!DOCTYPE html>
<html>
<head>
	<title>Convert Textarea Content to JSON Object</title>
	<style>
		body {
			font-family: Arial, sans-serif;
			text-align: center;
		}
		
		h1 {
			margin-top: 50px;
		}
		
		textarea {
			width: 50%;
			height: 200px;
			margin-top: 20px;
			padding: 10px;
			font-size: 16px;
			border-radius: 5px;
			border: none;
			box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.1);
		}
		
		button {
			padding: 10px 20px;
			font-size: 16px;
			border-radius: 5px;
			border: none;
			background-color: #4285f4;
			color: white;
			cursor: pointer;
			box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.1);
			margin-top: 20px;
		}
		
		button:hover {
			background-color: #3367d6;
		}
	</style>
</head>
<body>
	<h1>Convert Textarea Content to JSON Object</h1>
	
	<input placeholder="collegename" style="width:200px;height:50px" id="colnameInput">
	<textarea id="textarea"></textarea>
	<button onclick="convertToJSON()">Convert to JSON</button>
	
	<h3 id="working" style="display:none;color:red">Working...</h3>
	
	<script>
		
    var studentsHolding = [];

    function convertToJSON() {
	    console.log("working");
	    document.getElementById("working").style.display = "block";
	    
	    studentsHolding.length = 0;
	   
	    var textareaContent = document.getElementById("textarea").value;
	    var jsonObj = JSON.parse(textareaContent);
	    
	    studentsHolding.push(runThrough(document.getElementById("colnameInput").value,"deniedRD",jsonObj));
	    studentsHolding.push(runThrough(document.getElementById("colnameInput").value,"deniedEA",jsonObj));
	    studentsHolding.push(runThrough(document.getElementById("colnameInput").value,"deniedED",jsonObj));
	    studentsHolding.push(runThrough(document.getElementById("colnameInput").value,"denied",jsonObj));
	    studentsHolding.push(runThrough(document.getElementById("colnameInput").value,"acceptedRD",jsonObj));
	    studentsHolding.push(runThrough(document.getElementById("colnameInput").value,"acceptedEA",jsonObj));
	    studentsHolding.push(runThrough(document.getElementById("colnameInput").value,"acceptedED",jsonObj));
	    studentsHolding.push(runThrough(document.getElementById("colnameInput").value,"accepted",jsonObj));
	    studentsHolding.push(runThrough(document.getElementById("colnameInput").value,"waitlistedUnknownEA",jsonObj));
	    studentsHolding.push(runThrough(document.getElementById("colnameInput").value,"waitlistedUnknownRD",jsonObj));

"deniedRD" in jsonObj.scattergrams.weightedGpa.act.apps ? studentsHolding.push(runThrough(document.getElementById("colnameInput").value,"deniedRD",jsonObj)) : void 1;
"deniedEA" in jsonObj.scattergrams.weightedGpa.act.apps ? studentsHolding.push(runThrough(document.getElementById("colnameInput").value,"deniedEA",jsonObj)) : void 1;
"deniedED" in jsonObj.scattergrams.weightedGpa.act.apps ? studentsHolding.push(runThrough(document.getElementById("colnameInput").value,"deniedED",jsonObj)) : void 1;
"denied" in jsonObj.scattergrams.weightedGpa.act.apps ? studentsHolding.push(runThrough(document.getElementById("colnameInput").value,"denied",jsonObj)) : void 1;
"acceptedRD" in jsonObj.scattergrams.weightedGpa.act.apps ? studentsHolding.push(runThrough(document.getElementById("colnameInput").value,"acceptedRD",jsonObj)) : void 1;
"acceptedEA" in jsonObj.scattergrams.weightedGpa.act.apps ? studentsHolding.push(runThrough(document.getElementById("colnameInput").value,"acceptedEA",jsonObj)) : void 1;
"acceptedED" in jsonObj.scattergrams.weightedGpa.act.apps ? studentsHolding.push(runThrough(document.getElementById("colnameInput").value,"acceptedED",jsonObj)) : void 1;
"accepted" in jsonObj.scattergrams.weightedGpa.act.apps ? studentsHolding.push(runThrough(document.getElementById("colnameInput").value,"accepted",jsonObj)) : void 1;
"waitlistedUnknownEA" in jsonObj.scattergrams.weightedGpa.act.apps ? studentsHolding.push(runThrough(document.getElementById("colnameInput").value,"waitlistedUnknownEA",jsonObj)) : void 1;
"waitlistedUnknownRD" in jsonObj.scattergrams.weightedGpa.act.apps ? studentsHolding.push(runThrough(document.getElementById("colnameInput").value,"waitlistedUnknownRD",jsonObj)) : void 1;


	    
	    document.getElementById("working").style.display = "none";
	    console.log(studentsHolding);
	    console.log("done");
    }
		
		
		
		
		function runThrough(sName,decisionType,obby){
			
			let array1 = obby.scattergrams.weightedGpa.act.apps[decisionType]; 
let array2 = [];
			array1.forEach(function(element){
				
				let toAdd = {ACT: element.actCompositeStudent, wGPA: element.gpa, SAT: element.studentSAT1600Composite, ["decision" + sName]: decisionType};
array2.push(toAdd);
	
});
	return array2;
			
			
			
		}
		
		
		
	</script>
</body>
</html>
